{% load tile_container %}
<div class="gh-server">
    <h3>{{ tile.title }}</h3>
    {% tile_container tile.tiles %}
</div>
{% for repo in tile.repos %}
  <div class="expandable">
    <button class="expandable_header expandable_target"{% if repo.model.fork %} style="color:blue;"{% endif %}>
        {{ repo.model.full_name }}
    </button>
    <div class="expandable_content">
      <div class="tabs">
        <ul class="tabs_list">
          {% for action in repo.actions %}
            <li class="tabs_list-item">
              <button class="tabs_tab" data-panel="ghe-{{ forloop.parentloop.counter }}-panel-{{ forloop.counter }}">
                  {{ action.name }}
              </button>
            </li>
          {% endfor %}
        </ul>
        {% for action in repo.actions %}
        {% autoescape off %}
          <div id="ghe-{{ forloop.parentloop.counter }}-panel-{{ forloop.counter }}" class="tabs_panel">
              <h5>{{ action.title }}</h5>
              <p>{{ action.description }}</p>
              {% if action.method == "POST" or action.form %}
                <form action="action.action" method="action.method">
                  {{ action.form }}
                  <input type="submit" value="{{ action.cta }}" />
                </form>
              {% else %}
                <a href="{{ action.action }}" class="btn">{{ action.cta }}</a>
              {% endif %}
          </div>
        {% endautoescape %}
        {% endfor %}
      </div>
    </div>
  </div>
{% endfor %}
